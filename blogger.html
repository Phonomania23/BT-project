<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ЛК блогера — Bloggers.tools</title>

  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/layout.css" />

  <script defer src="js/include.js"></script>
  <script defer src="js/blogger.js"></script>

  <style>
    .page-header{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:8px 0 24px;}
    .grid{display:grid;gap:var(--gap);grid-template-columns:repeat(auto-fit,minmax(320px,1fr));}
    .card{padding:16px;border:1px solid #eee;border-radius:var(--radius);background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.03);}
    .card h2{margin:0 0 8px}
    .subgrid{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));}
    .deal{padding:12px;border:1px solid #efefef;border-radius:10px;display:flex;flex-direction:column;gap:6px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .badge{display:inline-block;padding:2px 8px;border-radius:999px;background:#f3f3f3;font-size:.85rem}
    .meta{color:#666;font-size:.9rem}
    .deal-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .btn-ghost{padding:8px 10px;border-radius:10px;border:1px solid #ddd;background:#fff}
    .cols{display:grid;gap:12px;grid-template-columns:1fr 1fr}
    .cols > div{display:flex;flex-direction:column;gap:12px}
    canvas{width:100%;height:220px;border:1px solid #efefef;border-radius:10px;background:#fff}
    .chat-controls{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
    select{padding:10px 12px;border-radius:10px;border:1px solid #ddd}
    .empty{color:#666}
  </style>
</head>
<body>
  <div data-include="/components/header.html"></div>
  <div data-include="/components/nav.html"></div>

  <main class="container">
    <div class="page-header">
      <h1>Блогер: <span id="bloggerName">Demo Blogger</span></h1>
      <button id="logoutBlogger" class="btn btn-secondary" type="button">Выйти</button>
    </div>

    <section class="grid">
      <!-- Текущие проекты -->
      <article class="card" aria-labelledby="projects-title">
        <h2 id="projects-title">Текущие проекты</h2>
        <div class="cols">
          <div>
            <h3 style="margin:0">В работе</h3>
            <div id="inProgress" class="subgrid" aria-live="polite" aria-busy="true"></div>
          </div>
          <div>
            <h3 style="margin:0">На проверке</h3>
            <div id="awaiting" class="subgrid" aria-live="polite" aria-busy="true"></div>
          </div>
        </div>
      </article>

      <!-- Статистика -->
      <article class="card" aria-labelledby="stats-title">
        <h2 id="stats-title">Статистика</h2>
        <p class="meta">Фейковые графики по данным из ваших сделок.</p>
        <div class="subgrid">
          <div>
            <strong>Аудитория</strong>
            <canvas id="audChart" width="640" height="220" aria-label="График аудитории" role="img"></canvas>
          </div>
          <div>
            <strong>Просмотры</strong>
            <canvas id="viewsChart" width="640" height="220" aria-label="График просмотров" role="img"></canvas>
          </div>
        </div>
      </article>

      <!-- Чат -->
      <article class="card" aria-labelledby="chat-title">
        <h2 id="chat-title">Чат</h2>
        <div class="chat-controls">
          <label for="chatDealSelect" class="meta">Проект:</label>
          <select id="chatDealSelect"></select>
          <button id="openChatBtn" class="btn" type="button">Открыть переписку</button>
        </div>
        <p class="meta">Или откройте детали проекта и перейдите на вкладку «Чат».</p>
      </article>
    </section>
  </main>

  <div data-include="/components/footer.html"></div>
</body>
</html>
